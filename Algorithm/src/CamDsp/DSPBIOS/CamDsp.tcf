utils.loadPlatform("ti.platforms.evmDM6467");

/* The following DSP/BIOS Features are enabled.  */
bios.enableRealTimeAnalysis(prog);
bios.enableRtdx(prog);
bios.enableTskManager(prog);

bios.MEM.instance("DDR2").len = 0x00ffd000;
bios.MEM.instance("DDR2").base = 0x86000000;
bios.MEM.NOMEMORYHEAPS = 0;
bios.MEM.instance("DDR2").createHeap = 1;
bios.MEM.instance("DDR2").heapSize = 0x00500000;
bios.MEM.instance("DDR2").enableHeapLabel = 1;
bios.MEM.instance("DDR2").heapLabel = prog.extern("DDR_HEAP");
bios.MEM.BIOSOBJSEG = prog.get("DDR2");
bios.MEM.MALLOCSEG = prog.get("DDR2");
bios.MEM.STACKSIZE = 0x4000;

bios.HWI.instance("HWI_INT5").interruptSelectNumber = 16;
bios.HWI.instance("HWI_INT5").fxn = prog.extern("DSPLinkISR");
bios.HWI.instance("HWI_INT5").useDispatcher = 1;

var RESET_VECTOR = prog.module("MEM").create("RESET_VECTOR");
RESET_VECTOR.base        = 0x87FFF000;
RESET_VECTOR.len         = 0x00000100;
RESET_VECTOR.space       = "code/data";
RESET_VECTOR.createHeap  = false;
RESET_VECTOR.comment     = "RESET_VECTOR";

bios.MEM.STACKSIZE = 0x5000;
bios.MEM.STACKSIZE = 0x4000;
bios.TSK.instance("TSK_idle").order = 1;
bios.GBL.ENABLEINST = 0;
bios.GBL.ENABLEALLTRC = 0;
bios.MEM.ARGSSIZE = 0x0032;
bios.MEM.STACKSIZE = 0x10000;
bios.MEM.ARGSSEG = prog.get("DDR2");
bios.MEM.STACKSEG = prog.get("DDR2");
bios.MEM.GBLINITSEG = prog.get("DDR2");
bios.MEM.TRCDATASEG = prog.get("DDR2");
bios.MEM.SYSDATASEG = prog.get("DDR2");
bios.MEM.OBJSEG = prog.get("DDR2");
bios.MEM.BIOSSEG = prog.get("DDR2");
bios.MEM.SYSINITSEG = prog.get("DDR2");
bios.MEM.HWISEG = prog.get("DDR2");
bios.MEM.HWIVECSEG = prog.get("DDR2");
bios.MEM.RTDXTEXTSEG = prog.get("DDR2");
bios.MEM.TEXTSEG = prog.get("DDR2");
bios.MEM.SWITCHSEG = prog.get("DDR2");
bios.MEM.BSSSEG = prog.get("DDR2");
bios.MEM.FARSEG = prog.get("DDR2");
bios.MEM.CINITSEG = prog.get("DDR2");
bios.MEM.PINITSEG = prog.get("DDR2");
bios.MEM.CONSTSEG = prog.get("DDR2");
bios.MEM.DATASEG = prog.get("DDR2");
bios.MEM.CIOSEG = prog.get("DDR2");
bios.MEM.ENABLELOADADDR = 1;
bios.MEM.LOADBIOSSEG = prog.get("DDR2");
bios.MEM.LOADSYSINITSEG = prog.get("DDR2");
bios.MEM.LOADGBLINITSEG = prog.get("DDR2");
bios.MEM.LOADTRCDATASEG = prog.get("DDR2");
bios.MEM.LOADTEXTSEG = prog.get("DDR2");
bios.MEM.LOADSWITCHSEG = prog.get("DDR2");
bios.MEM.LOADCINITSEG = prog.get("DDR2");
bios.MEM.LOADPINITSEG = prog.get("DDR2");
bios.MEM.LOADCONSTSEG = prog.get("DDR2");
bios.MEM.LOADHWISEG = prog.get("DDR2");
bios.MEM.LOADHWIVECSEG = prog.get("DDR2");
bios.MEM.LOADRTDXTEXTSEG = prog.get("DDR2");
bios.MEM.ENABLELOADADDR = 0;
bios.BUF.OBJMEMSEG = prog.get("DDR2");
bios.SYS.TRACESEG = prog.get("DDR2");
bios.LOG.OBJMEMSEG = prog.get("DDR2");
bios.LOG.instance("LOG_system").bufSeg = prog.get("DDR2");
bios.STS.OBJMEMSEG = prog.get("DDR2");
bios.CLK.OBJMEMSEG = prog.get("DDR2");
bios.PRD.OBJMEMSEG = prog.get("DDR2");
bios.SWI.OBJMEMSEG = prog.get("DDR2");
bios.TSK.OBJMEMSEG = prog.get("DDR2");
bios.TSK.STACKSEG = prog.get("DDR2");
bios.SEM.OBJMEMSEG = prog.get("DDR2");
bios.MBX.OBJMEMSEG = prog.get("DDR2");
bios.QUE.OBJMEMSEG = prog.get("DDR2");
bios.LCK.OBJMEMSEG = prog.get("DDR2");
bios.DHL.OBJMEMSEG = prog.get("DDR2");
bios.DIO.OBJMEMSEG = prog.get("DDR2");
bios.MEM.ARGSSIZE = 0x0004;
bios.TSK.instance("TSK_idle").stackMemSeg = prog.get("DDR2");
bios.IDL.OBJMEMSEG = prog.get("DDR2");
bios.RTDX.RTDXDATASEG = prog.get("DDR2");
bios.HST.OBJMEMSEG = prog.get("DDR2");
bios.PIP.OBJMEMSEG = prog.get("DDR2");
bios.SIO.OBJMEMSEG = prog.get("DDR2");
bios.GBL.C64PLUSCONFIGURE = 0;
bios.MEM.STACKSIZE = 0x5000;
bios.GBL.C64PLUSCONFIGURE = 1;
bios.GBL.C64PLUSL2CFG = "64k";
bios.GBL.C64PLUSL2CFG = "0k";
bios.MEM.instance("IRAM").len = 0x00010000;
bios.GBL.C64PLUSL2CFG = "32k";
bios.GBL.C64PLUSL2CFG = "64k";
bios.MEM.STACKSIZE = 0x4000;
bios.MEM.STACKSIZE = 0x10000;
bios.MEM.ARGSSIZE = 0x0032;
bios.MEM.REUSECODESPACE = 0;
bios.MEM.STACKSIZE = 0x50000;
bios.MEM.USEMPC = 1;
bios.MEM.create("L2_SRAM");
bios.MEM.instance("L2_SRAM").base = 0x00818000;
bios.MEM.instance("L2_SRAM").len = 0x00010000;
bios.MEM.instance("L2_SRAM").createHeap = 0;
bios.MEM.instance("L2_SRAM").space = "code/data";
bios.MEM.ARGSSIZE = 0x0004;
bios.MEM.STACKSIZE = 0x4000;
bios.MEM.STACKSIZE = 0x5000;
bios.GBL.C64PLUSMAR128to159 = 0x00000080;
bios.GBL.C64PLUSMAR128to159 = 0x00000000;
bios.GBL.C64PLUSMAR128to159 = 0x00000080;
bios.GBL.C64PLUSMAR128to159 = 0x00000000;
bios.GBL.C64PLUSMAR128to159 = 0x00000080;
bios.GBL.C64PLUSMAR128to159 = 0x00000000;
bios.GBL.C64PLUSMAR128to159 = 0x00000080;
bios.GBL.C64PLUSL2CFG = "32k";
bios.GBL.C64PLUSMAR128to159 = 0x00000000;
bios.GBL.C64PLUSMAR128to159 = 0x00000080;
bios.GBL.ENABLEINST = 1;
bios.GBL.ENABLEALLTRC = 1;
bios.MEM.instance("DDR2").heapLabel = prog.extern("extHeap");
bios.MEM.instance("IRAM").createHeap = 1;
bios.MEM.instance("IRAM").enableHeapLabel = 1;
bios.MEM.instance("IRAM").heapLabel = prog.extern("intHeap");
bios.MEM.instance("DDR2").base = 0x85000000;
bios.MEM.instance("DDR2").len = 0x01ffd000;
bios.MEM.instance("DDR2").heapSize = 0x01500000;
bios.MEM.instance("DDR2").heapSize = 0x01a00000;
bios.MEM.instance("DDR2").heapSize = 0x01800000;
bios.MEM.instance("DDR2").base = 0x84000000;
bios.MEM.instance("DDR2").len = 0x02ffd000;
bios.MEM.instance("DDR2").len = 0x03ffd000;
bios.MEM.instance("DDR2").heapSize = 0x02000000;
bios.MEM.instance("DDR2").base = 0x85000000;
bios.MEM.instance("DDR2").len = 0x02ffd000;
bios.GBL.C64PLUSCONFIGURE = 0;
bios.GBL.C64PLUSCONFIGURE = 1;
bios.GBL.C64PLUSL2CFG = "64k";
bios.GBL.C64PLUSMAR128to159 = 0x000000f0;
bios.MEM.instance("IRAM").space = "data";
bios.MEM.instance("L2_SRAM").space = "data";
bios.MEM.instance("L2_SRAM").destroy();
bios.MEM.create("PRAM");
bios.MEM.instance("DDR2").len = 0x028fd000;
bios.MEM.instance("PRAM").createHeap = 0;
bios.MEM.instance("PRAM").space = "code";
bios.MEM.instance("PRAM").base = 0x87800000;
bios.MEM.instance("PRAM").len = 0x007ff000;
bios.MEM.TEXTSEG = prog.get("PRAM");
bios.MEM.BIOSSEG = prog.get("PRAM");
bios.MEM.SYSINITSEG = prog.get("PRAM");
bios.MEM.instance("IRAM").space = "code/data";
bios.MEM.instance("IRAM").space = "data";
bios.MEM.instance("PRAM").base = 0x878fd000;
bios.MEM.instance("PRAM").len = 0x007ef000;
bios.MEM.instance("PRAM").len = 0x00700000;
bios.GBL.INSTRUMENTED = 0;
bios.GBL.ENABLEALLTRC = 0;
bios.GBL.ENABLEINST = 0;
bios.GBL.C64PLUSMAR128to159 = 0x0000ff00;
bios.GBL.C64PLUSMAR128to159 = 0x000000f0;
bios.GBL.CLKOUT = 999.0000;
bios.GBL.CLKOUT = 1000.0000;
bios.MEM.STACKSIZE = 0x1000;
bios.MEM.USEMPC = 0;
bios.MEM.BIOSOBJSEG = prog.get("IRAM");
bios.MEM.BIOSOBJSEG = prog.get("DDR2");
bios.MEM.BIOSOBJSEG = prog.get("IRAM");
bios.MEM.ARGSSEG = prog.get("IRAM");
bios.MEM.STACKSEG = prog.get("IRAM");
bios.MEM.GBLINITSEG = prog.get("IRAM");
bios.MEM.SYSDATASEG = prog.get("IRAM");
bios.MEM.OBJSEG = prog.get("IRAM");
bios.MEM.BIOSOBJSEG = prog.get("DDR2");
bios.SYS.TRACESIZE = 2048;
bios.STS.OBJMEMSEG = prog.get("IRAM");
bios.CLK.OBJMEMSEG = prog.get("IRAM");
bios.CLK.RESETTIMER = 1;
bios.PRD.OBJMEMSEG = prog.get("IRAM");
bios.SWI.OBJMEMSEG = prog.get("IRAM");
bios.TSK.STACKSEG = prog.get("MEM_NULL");
bios.TSK.OBJMEMSEG = prog.get("IRAM");
bios.IDL.OBJMEMSEG = prog.get("IRAM");
bios.GBL.C64PLUSMAR128to159 = 0x0000f000;
bios.MEM.instance("DDR2").base = 0x8c000000;
bios.MEM.instance("DDR2").len = 0x03800000;
bios.MEM.instance("PRAM").base = 0x8f800000;
bios.MEM.instance("RESET_VECTOR").base = 0x8ff00000;
bios.MEM.instance("RESET_VECTOR").base = 0x8ffff000;
bios.MEM.STACKSIZE = 0x4000;
bios.MEM.ARGSSEG = prog.get("DDR2");
bios.MEM.STACKSEG = prog.get("DDR2");
bios.MEM.GBLINITSEG = prog.get("DDR2");
bios.MEM.SYSDATASEG = prog.get("DDR2");
bios.MEM.OBJSEG = prog.get("DDR2");
bios.GBL.C64PLUSMAR128to159 = 0x0000ff00;
bios.GBL.C64PLUSL2CFG = "32k";
bios.GBL.C64PLUSL2CFG = "64k";
bios.GBL.C64PLUSL2CFG = "32k";
bios.MEM.instance("IRAM").len = 0x00018000;
bios.HWI.instance("HWI_INT5").fxn = prog.extern("HWI_unused", "asm");
bios.STS.OBJMEMSEG = prog.get("DDR2");
bios.CLK.OBJMEMSEG = prog.get("DDR2");
bios.PRD.OBJMEMSEG = prog.get("DDR2");
bios.SWI.OBJMEMSEG = prog.get("DDR2");
bios.TSK.OBJMEMSEG = prog.get("DDR2");
bios.IDL.OBJMEMSEG = prog.get("DDR2");
bios.MEM.instance("IRAM").destroy();
bios.MEM.create("DMARAM");
bios.MEM.instance("DMARAM").comment = "";
bios.MEM.instance("DMARAM").base = 0x1182d000;
bios.MEM.instance("DMARAM").len = 0x00002000;
bios.MEM.instance("DMARAM").enableHeapLabel = 1;
bios.MEM.instance("DMARAM").heapLabel = prog.extern("dma");
bios.MEM.instance("DMARAM").heapLabel = prog.extern("dmaHeap");
bios.MEM.instance("DMARAM").heapSize = 0x00002000;
bios.MEM.instance("DMARAM").space = "code/data";
bios.MEM.instance("DMARAM").comment = "For DmaCopy";
bios.MEM.instance("PRAM").comment = "";
bios.MEM.instance("RESET_VECTOR").comment = "";
bios.MEM.HWISEG = prog.get("PRAM");
bios.MEM.HWIVECSEG = prog.get("PRAM");
bios.MEM.RTDXTEXTSEG = prog.get("PRAM");
bios.MEM.instance("DDR2").space = "code/data";
bios.MEM.instance("DDR2").comment = "56Mbytes of the DSP's off-chip memory";
// !GRAPHICAL_CONFIG_TOOL_SCRIPT_INSERT_POINT!

prog.gen();

